{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "./schemas/image/v1.0.json",
  "title": "image",
  "description": "Schema for a multi-frame medical image module, including essential DICOM fields and all additional tags.",
  "type": "object",
  "module_type": "image",
  "endianness": "little",
  "required": ["metadata"],
  "properties": {
    "metadata": {
      "type": "object",
      "required": ["modality", "width", "height", "bit_depth", "channels", "encoding"],
      "properties": {
        "modality": { "type": "string", "length": 10 },
        "width": { "type": "integer", "format": "uint16" },
        "height": { "type": "integer", "format": "uint16" },
        "bit_depth": { "type": "integer", "format": "uint8" },
        "channels": { 
          "type": "integer", 
          "format": "uint8",
          "description": "Number of image channels (1 for grayscale, 3 for RGB, etc.)"
        },
        "encoding": { 
          "type": "string", 
          "enum": ["raw", "jpeg2000-lossless", "png"],
          "description": "Image encoding format. Medical data requires lossless encoding only."
        },

        "bodyPart": { "type": "string", "description": "Body part examined" },
        "institution": { "type": "string", "description": "Institution name" },
        "acquisitionDate": { "type": "string", "description": "Acquisition date" },
        "technician": { "type": "string", "description": "Technician/operator name" },
        "patientName": { "type": "string", "description": "Patient name" },
        "patientID": { "type": "string", "description": "Patient ID" },
        "dimensions": {
          "type": "array",
          "items": { "type": "integer", "minimum": 1, "format": "uint16" },
          "minItems": 2,
          "maxItems": 10,
          "description": "Size of each dimension"
        },
        "dimension_names": {
          "type": "array", 
          "items": { "type": "string", "length": 16 },
          "minItems": 2,
          "maxItems": 10,
                    "description": "Names of each dimension (x, y, z, time, channel, etc.)"
        }
      }
    }
  }
}